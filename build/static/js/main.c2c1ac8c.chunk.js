(this.webpackJsonpfrontendd=this.webpackJsonpfrontendd||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(56),i=t.n(r),o=(t(66),t(59)),l=t(1),m=t(8),s=t.n(m),u=t(12),d=t(6),p=t(57),f=t.n(p),E=t(13),g=t.n(E),v=(t(117),"http://localhost:3333"),b=t(26),j=t.n(b),h=t(27),O=t.n(h),w=t(58),N=t.n(w);var y=function(e){var a=e.match,t=Object(n.useState)(""),r=Object(d.a)(t,2),i=(r[0],r[1]),o=Object(n.useState)([]),l=Object(d.a)(o,2),m=l[0],p=l[1],E=Object(n.useState)({}),b=Object(d.a)(E,2),h=b[0],w=b[1],y=Object(n.useState)(null),k=Object(d.a)(y,2),x=k[0],C=k[1],S=Object(n.useState)({}),T=Object(d.a)(S,2),A=T[0],B=T[1],I=Object(n.useState)([]),X=Object(d.a)(I,2),q=(X[0],X[1]),z=Object(n.useState)((function(){})),J=Object(d.a)(z,2),M=J[0],V=J[1],W=Object(n.useState)(""),D=Object(d.a)(W,2),G=D[0],P=D[1],Q=Object(n.useState)(1),$=Object(d.a)(Q,2),F=$[0],H=$[1];function K(e){M.emit("move",{position:{i:e.i,j:e.j},gameid:a.params.gameid})}function L(e){var a=e.elem;return 1===a?j.a:2===a?O.a:void 0}return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(v,"/room?gameid=").concat(a.params.gameid));case 2:if(t=e.sent,!t.data.error){e.next=9;break}return window.location.href="/",e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(i(a.params.gameid),function(){return e.apply(this,arguments)}())window.location.href="/";else{var t=f()(v,{query:{gameid:a.params.gameid}});t.on("setup",(function(e){p(e.game),w(e.pontuacao),C(e.playerTime),B(e.parts)})),t.on("reset-game",(function(e){p(e.game),C(e.playerTime)})),t.on("add-player",(function(e){p(e.game),C(e.playerTime),B(e.players)})),t.on("attempt",(function(e){p(e.game),C(e.playerTime),w(e.pontuacao),q(e.situation)})),t.on("connect",(function(){P(t.id),A[1]===G?H(1):H(2)})),t.on("remove-player",(function(e){C(e.playerTime)})),V(t)}}),[]),Object(n.useEffect)((function(){A[1]===G?H(1):H(2)}),[A]),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"pontuacao"},c.a.createElement("p",{id:"x"},c.a.createElement("img",{src:j.a,alt:"X"})," ",h[1]),c.a.createElement("p",{id:"old"},c.a.createElement("img",{src:N.a,alt:"X"}),h[3]),c.a.createElement("p",{id:"o"},c.a.createElement("img",{src:O.a,alt:"O"})," ",h[2])),x===F&&3!==x?c.a.createElement("div",{className:"turn"},"Sua vez"):c.a.createElement("div",{className:"turn"},"Vez do amigo"),3===x?c.a.createElement("div",{className:"New",onClick:function(){M.emit("reset",{gameid:a.params.gameid})}},c.a.createElement("p",null,"Come\xe7ar de Novo")):c.a.createElement("div",null),c.a.createElement("div",{className:"container-game"},m.length>0?c.a.createElement("div",{className:"tabuleiro"},c.a.createElement("div",{id:"a1",className:"espaco",onClick:function(){return K({i:0,j:0})}},c.a.createElement("img",{src:L({elem:m[0][0]}),alt:""})),c.a.createElement("div",{id:"a2",className:"espaco",onClick:function(){return K({i:0,j:1})}},c.a.createElement("img",{src:L({elem:m[0][1]}),alt:""})),c.a.createElement("div",{id:"a3",className:"espaco",onClick:function(){return K({i:0,j:2})}},c.a.createElement("img",{src:L({elem:m[0][2]}),alt:""})),c.a.createElement("div",{id:"b1",className:"espaco",onClick:function(){return K({i:1,j:0})}},c.a.createElement("img",{src:L({elem:m[1][0]}),alt:""})),c.a.createElement("div",{id:"b2",className:"espaco",onClick:function(){return K({i:1,j:1})}},c.a.createElement("img",{src:L({elem:m[1][1]}),alt:""})),c.a.createElement("div",{id:"b3",className:"espaco",onClick:function(){return K({i:1,j:2})}},c.a.createElement("img",{src:L({elem:m[1][2]}),alt:""})),c.a.createElement("div",{id:"c1",className:"espaco",onClick:function(){return K({i:2,j:0})}},c.a.createElement("img",{src:L({elem:m[2][0]}),alt:""})),c.a.createElement("div",{id:"c2",className:"espaco",onClick:function(){return K({i:2,j:1})}},c.a.createElement("img",{src:L({elem:m[2][1]}),alt:""})),c.a.createElement("div",{id:"c3",className:"espaco",onClick:function(){return K({i:2,j:2})}},c.a.createElement("img",{src:L({elem:m[2][2]}),alt:""}))):c.a.createElement("div",null)),c.a.createElement("div",{className:"player"},c.a.createElement("p",null,"Voc\xea \xe9"),c.a.createElement("img",{src:L({elem:F}),alt:1===F?"X":"o"})),0===x?c.a.createElement("div",{className:"waitingPlayer"},c.a.createElement("p",null,"Aguardando outro jogador"),c.a.createElement("p",null,"Mande esse c\xf3digo para seu Amigo"),c.a.createElement("div",{className:"link"},c.a.createElement("a",null,"".concat(a.params.gameid)))):c.a.createElement("div",null))};t(118);var k=function(){var e=Object(n.useState)(""),a=Object(d.a)(e,2),t=a[0],r=a[1];function i(){return(i=Object(u.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(v,"/newroom"));case 2:a=e.sent,(t=a.data.gameid)?window.location.href="".concat(t,"/game"):alert("Error 404");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(u.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,g.a.get("".concat(v,"/room?gameid=").concat(t));case 3:n=e.sent,n.data.error?alert("Sala Invalida"):window.location.href="".concat(t,"/game");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement("div",{className:"backfround"},c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"form"},c.a.createElement("h1",null,"Bem vindo!"),c.a.createElement("a",{type:"button",onClick:function(){return function(){return i.apply(this,arguments)}()}},"Novo Game")),c.a.createElement("form",{onSubmit:function(e){return o.apply(this,arguments)}},c.a.createElement("h1",null,"Quer entrar na sala de um amigo?"),c.a.createElement("input",{type:"text",placeholder:"Insira o Codigo do game Aqui",value:t,onChange:function(e){return r(e.target.value)}}),c.a.createElement("button",{type:"submit"},"Entrar"))))};function x(){return c.a.createElement(o.a,null,c.a.createElement(l.a,{path:"/",exact:!0,component:k}),c.a.createElement(l.a,{path:"/:gameid/game",exact:!0,component:y}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,a,t){e.exports=t.p+"static/media/x.47f2d81d.png"},27:function(e,a,t){e.exports=t.p+"static/media/o.65a4df4f.png"},58:function(e,a,t){e.exports=t.p+"static/media/old.8a6a7128.png"},61:function(e,a,t){e.exports=t(123)},66:function(e,a,t){},98:function(e,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.c2c1ac8c.chunk.js.map